<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="iphone-chassis">
        <div class="btn volume-up"></div>
        <div class="btn volume-down"></div>
        <div class="btn power-btn"></div>

        <div class="bezel">
            <div class="screen">
                <div class="dynamic-island"><span id="di-text"></span></div>
                
                <div class="status-bar">
                    <span class="time">20:13</span>
                    <div class="status-icons">
                        <i class="fa-solid fa-signal"></i>
                        <i class="fa-solid fa-wifi"></i>
                        <i class="fa-solid fa-battery-full"></i>
                    </div>
                </div>

                <div id="home-screen">
                    <div class="widgets-container">
                        <div class="widget weather-widget">
                            <i class="fa-solid fa-cloud-bolt" style="font-size: 24px; margin-bottom: 5px;"></i>
                            <div class="weather-temp">31°</div>
                            <div class="weather-city">Pillbox Hill</div>
                        </div>
                        <div class="widget calendar-widget">
                            <div class="cal-day">WT.</div>
                            <div class="cal-date">27</div>
                        </div>
                    </div>

                    <div class="app-grid">
                        <div class="app-icon gradient-blue" onclick="openApp('store')"><i class="fa-brands fa-app-store-ios"></i></div>
                        <div class="app-icon gradient-purple" onclick="openApp('settings')"><i class="fa-solid fa-gear"></i></div>
                        <div class="app-icon gradient-pink" onclick="openApp('calculator')"><i class="fa-solid fa-calculator"></i></div>
                        <div class="app-icon gradient-red" onclick="openApp('health')"><i class="fa-solid fa-heart-pulse"></i></div>
                        
                        <div class="app-icon gradient-orange" onclick="openApp('notes')"><i class="fa-regular fa-note-sticky"></i></div>
                        <div class="app-icon gradient-green" onclick="startAirDrop()"><i class="fa-solid fa-paper-plane"></i></div>
                        <div class="app-icon gradient-lilac" onclick="openApp('podcast')"><i class="fa-solid fa-podcast"></i></div>
                        <div class="app-icon gradient-dark" onclick="openApp('wallet')"><i class="fa-solid fa-wallet"></i></div>
                    </div>
                    
                    <div class="dock-container">
                        <div class="glass-dock">
                            <div class="dock-icon green-phone" onclick="openApp('phone')">
                                <i class="fa-solid fa-phone"></i>
                            </div>
                            <div class="dock-icon gradient-blue" onclick="openApp('browser')">
                                <i class="fa-regular fa-compass"></i>
                            </div>
                            <div class="dock-icon green-message" onclick="openApp('messages')">
                                <i class="fa-solid fa-comment-dots"></i>
                            </div>
                            <div class="dock-icon black-contacts" onclick="openApp('contacts')">
                                <i class="fa-solid fa-address-book"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="app-window" style="display:none; height:100%; width:100%; position:absolute; top:0; left:0; z-index:50; background:black; border-radius: 45px; overflow:hidden;"></div>

                <div id="phone-app-container" style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; z-index:60; background:black; color:white; border-radius: 45px; overflow:hidden;">
                    
                    <div id="tab-favorites" class="tab-screen" style="display:none; height: 100%; width: 100%;">
                        <div class="ios-header" style="padding: 50px 20px 10px 20px; display: flex; justify-content: space-between; align-items: center;">
                            <h2 style="font-size: 30px; font-weight: 700; margin: 0;">Ulubione</h2>
                            <div class="ios-add-btn" style="color: #0A84FF; font-size: 30px; cursor: pointer;" onclick="switchTab('contacts')">+</div>
                        </div>
                        <div id="favorites-list" class="ios-list-container" style="padding: 0 20px 100px 20px; overflow-y: auto; height: calc(100% - 150px);">
                            <div style="text-align:center; color:#555; margin-top:50px;">Brak ulubionych</div>
                        </div>
                    </div>

                    <div id="tab-recents" class="tab-screen" style="display:none; height: 100%; width: 100%;">
                        <div class="ios-header" style="padding: 50px 20px 10px 20px; display: flex; justify-content: space-between; align-items: center;">
                            <h2 style="font-size: 30px; font-weight: 700; margin: 0;">Ostatnie</h2>
                            <span style="color:#0A84FF; font-size:16px; cursor:pointer;">Edytuj</span>
                        </div>
                        <div class="ios-sub-header" style="padding: 0 20px 10px 20px; font-size: 14px; font-weight: 600;">
                            Wszystkie &nbsp;&nbsp; <span style="color:#555">Nieodebrane</span>
                        </div>
                        <div id="recents-list" class="ios-list-container" style="padding: 0 20px 100px 20px; overflow-y: auto; height: calc(100% - 150px);">
                            </div>
                    </div>

                    <div id="tab-contacts" class="tab-screen" style="display:none; height: 100%; width: 100%;">
                        <div class="ios-header" style="padding: 50px 20px 10px 20px; display: flex; justify-content: space-between; align-items: center;">
                            <h2 style="font-size: 30px; font-weight: 700; margin: 0;">Kontakty</h2>
                            <div class="ios-add-btn" style="color: #0A84FF; font-size: 30px; cursor: pointer;" onclick="$('#contact-modal-overlay').css('display', 'flex')">+</div>
                        </div>
                        <div style="padding:0 20px 10px 20px;">
                            <input type="text" style="width: 100%; background: #1c1c1e; border: none; padding: 10px 15px; border-radius: 10px; color: white; font-size: 16px; outline: none; box-sizing: border-box;" placeholder="Szukaj">
                        </div>
                        <div id="contacts-list" class="ios-list-container" style="padding: 0 20px 100px 20px; overflow-y: auto; height: calc(100% - 200px);">
                            </div>
                    </div>

                    <div id="tab-keypad" class="tab-screen" style="display:block; height: 100%; width: 100%;">
                        <div style="height: 25%; display:flex; flex-direction:column; align-items:center; justify-content:end; padding-bottom: 20px;">
                            <span id="dial-num-display" style="font-size:38px; font-weight:400; letter-spacing:1px;"></span>
                            <div style="font-size:14px; color:#0A84FF; margin-top:5px; cursor:pointer;" onclick="addNumberToContact()">Dodaj numer</div>
                        </div>

                        <div class="ios-dialer-grid">
                            <div class="ios-btn" onclick="dial('1')">1</div>
                            <div class="ios-btn" onclick="dial('2')">2<span>ABC</span></div>
                            <div class="ios-btn" onclick="dial('3')">3<span>DEF</span></div>
                            <div class="ios-btn" onclick="dial('4')">4<span>GHI</span></div>
                            <div class="ios-btn" onclick="dial('5')">5<span>JKL</span></div>
                            <div class="ios-btn" onclick="dial('6')">6<span>MNO</span></div>
                            <div class="ios-btn" onclick="dial('7')">7<span>PQRS</span></div>
                            <div class="ios-btn" onclick="dial('8')">8<span>TUV</span></div>
                            <div class="ios-btn" onclick="dial('9')">9<span>WXYZ</span></div>
                            <div class="ios-btn" onclick="dial('*')">*</div>
                            <div class="ios-btn" onclick="dial('0')">0<span>+</span></div>
                            <div class="ios-btn" onclick="dial('#')">#</div>
                        </div>

                        <div style="height: 15%; display:flex; justify-content:center; align-items:center; position:relative;">
                            <div class="ios-call-btn" onclick="startCallAction()">
                                <i class="fa-solid fa-phone"></i>
                            </div>
                            <div id="backspace-btn" onclick="dialBackspace()" style="position:absolute; right:60px; font-size:24px; color:#888; display:none; cursor:pointer;">
                                <i class="fa-solid fa-delete-left"></i>
                            </div>
                        </div>
                    </div>

                    <div class="ios-bottom-nav">
                        <div class="ios-nav-item" onclick="switchTab('favorites')">
                            <i class="fa-solid fa-star"></i>
                            <span>Ulubione</span>
                        </div>
                        <div class="ios-nav-item" onclick="switchTab('recents')">
                            <i class="fa-regular fa-clock"></i>
                            <span>Ostatnie</span>
                        </div>
                        <div class="ios-nav-item" onclick="switchTab('contacts')">
                            <i class="fa-solid fa-address-book"></i>
                            <span>Kontakty</span>
                        </div>
                        <div class="ios-nav-item active" onclick="switchTab('keypad')">
                            <i class="fa-solid fa-braille"></i>
                            <span>Klawiatura</span>
                        </div>
                    </div>
                </div>

                <div id="incall-screen" style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; z-index:2000; background:rgba(22, 33, 44, 0.95); backdrop-filter:blur(30px); border-radius: 45px; overflow:hidden;">
                    <div style="text-align:center; padding-top:80px; color:white;">
                        <div style="font-size:16px; color:#aaa; margin-bottom:5px;">00:12</div> 
                        <h2 id="incall-name" style="font-size:32px; font-weight:500; margin:0;">Nieznany</h2>
                        <h3 id="incall-number" style="font-size:18px; color:#ccc; margin-top:5px; font-weight:400;">+1 (740) 555-0190</h3>
                    </div>

                    <div class="incall-grid">
                        <div class="incall-btn"><i class="fa-solid fa-microphone-slash"></i><span>Mute</span></div>
                        <div class="incall-btn"><i class="fa-solid fa-braille"></i><span>Keypad</span></div>
                        <div class="incall-btn"><i class="fa-solid fa-volume-high"></i><span>Speaker</span></div>
                        
                        <div class="incall-btn"><i class="fa-solid fa-plus"></i><span>Add Call</span></div>
                        <div class="incall-btn"><i class="fa-solid fa-video"></i><span>FaceTime</span></div>
                        <div class="incall-btn"><i class="fa-solid fa-user"></i><span>Contacts</span></div>
                    </div>

                    <div style="position:absolute; bottom:50px; width:100%; display:flex; justify-content:center;">
                        <div class="ios-hangup-btn" onclick="endCall()">
                            <i class="fa-solid fa-phone-slash"></i>
                        </div>
                    </div>
                </div>

                <div id="airdrop-modal" class="modal-overlay">
                    <div class="airdrop-card">
                        <h3>NameDrop</h3>
                        <p><span id="ad-name">Ktoś</span> udostępnia numer</p>
                        <h2 id="ad-number" style="margin:10px 0;">...</h2>
                        <button class="ad-btn accept" onclick="acceptAirDrop()">Dodaj</button>
                        <button class="ad-btn decline" onclick="closeModals()">Odrzuć</button>
                    </div>
                </div>

                <div class="modal-overlay" id="contact-modal-overlay">
                    <div class="contact-modal-card">
                        <h3 id="modal-title" style="margin-top:0;">Nowy Kontakt</h3>
                        <input type="text" id="cm-name" class="cm-input" placeholder="Imię i nazwisko">
                        <input type="text" id="cm-number" class="cm-input" placeholder="Numer telefonu">
                        <button class="cm-btn cm-save" onclick="saveContact()">Gotowe</button>
                        <button id="cm-delete" class="cm-btn" style="background: var(--ios-red); color: white; display: none; margin-top: 10px;" onclick="deleteContact()">Usuń kontakt</button>
                        <button class="cm-btn cm-cancel" onclick="closeModals()">Anuluj</button>
                    </div>
                </div>  

                <div class="home-bar"></div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>